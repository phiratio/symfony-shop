{% extends 'base.html.twig' %}

{% block body %}
    <form action="{{ path('user_profile_edit', {'username': app.user.username }) }}" method="post">
        <div class="first_name">
            <label for="first_name">First Name: </label>
            <input type="text" id="first_name" name="user_edit[firstName]" required="required"
                   value="{{ user.firstName }}"/>
            {% if form.firstName.vars.errors | length %}
                <div>{{ form_errors(form.firstName) }}</div>
            {% endif %}
        </div>

        <div class="last_name">
            <label for="last_name">Last Name: </label>
            <input type="text" id="last_name" name="user_edit[lastName]" required="required"
                   value="{{ user.lastName }}"/>
            {% if form.lastName.vars.errors | length %}
                <div>{{ form_errors(form.lastName) }}</div>
            {% endif %}
        </div>

        <div class="shipping_address">
            <label for="shipping_address">Shipping Address: </label>
            <input type="text" id="shipping_address" name="user_edit[shippingAddress]" required="required"
                   value="{{ user.shippingAddress }}"/>
            {% if form.shippingAddress.vars.errors | length %}
                <div>{{ form_errors(form.shippingAddress) }}</div>
            {% endif %}
        </div>

        <div>
            <label for="country">Country: </label>
            <select id="country" name="user_edit[country]">
                {% for key, value in form.country.vars.choices %}
                    {% if value.value == user.country %}
                        <option value="{{ value.value }}" selected="selected">{{ value.label }}</option>
                    {% else %}
                        <option value="{{ value.value }}">{{ value.label }}</option>
                    {% endif %}
                {% endfor %}
            </select>
        </div>
        <input type="submit">
        {{ form_row(form._token) }}

        {% if not form.vars.valid %}
            <div id="global_form_errors">
                {{ form_errors(form) }}
            </div>
        {% endif %}
        {% for message in app.session.flashbag.get('warning') %}
            <p>{{ message }}</p>
        {% endfor %}
    </form>
{% endblock %}

